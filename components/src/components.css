/* Tailwind CSS 4 imports */
@import 'tailwindcss/preflight';
@import 'tailwindcss/utilities';

/* Component Imports */
@import '@components/src/Components/Typography/BrandLogo/_brand-logo.css';
@import '@components/src/Components/Typography/Heading/_heading.css';
@import '@components/src/Components/Typography/BodyText/_body-text.css';

/* 
 * DHB Design System - Custom Properties
 * ====================================
 * 
 * This file defines the core design tokens for the DHB Handball World Championship 2027 
 * project. These CSS custom properties serve as the single source of truth for all
 * design values used throughout the component library.
 * 
 * USAGE:
 * - Components should always reference these custom properties using var()
 * - Never hardcode values that exist as design tokens
 * - Use fallback values: var(--token-name, fallback-value)
 * 
 * MAINTENANCE:
 * - All changes to design tokens should happen here first
 * - Ensure Tailwind config (tailwind.config.js) stays aligned with these values
 * - Test typography scaling after any font-size changes
 */
:root {
  /* 
   * DHB Brand Colors
   * ================
   * Core brand palette derived from the official DHB Handball WM 2027 design.
   * These colors should be used consistently across all components.
   */
  --dhb-navy: #1a1a2e;     /* Primary dark background color */
  --dhb-white: #ffffff;    /* Primary light text/background color */
  --dhb-yellow: #feca57;   /* Accent color for highlights and CTAs */
  --dhb-red: #ff4757;      /* Secondary accent color for emphasis */

  /* 
   * Typography Scale
   * ================
   * Harmonious font-size scale following a consistent ratio.
   * Used by all text components (Heading, BodyText) for consistent sizing.
   * 
   * Scale: 0.75rem (12px) â†’ 6rem (96px)
   * Ratio: Approximately 1.125 - 1.2x between steps
   */
  --font-size-xs: 0.75rem;    /* 12px - Small captions, fine print */
  --font-size-sm: 0.875rem;   /* 14px - Small body text, secondary info */
  --font-size-base: 1rem;     /* 16px - Default body text */
  --font-size-lg: 1.125rem;   /* 18px - Large body text, leads */
  --font-size-xl: 1.25rem;    /* 20px - Small headings */
  --font-size-2xl: 1.5rem;    /* 24px - Medium headings */
  --font-size-3xl: 1.875rem;  /* 30px - Large headings */
  --font-size-4xl: 2.25rem;   /* 36px - Display headings */
  --font-size-5xl: 3rem;      /* 48px - Large display headings */
  --font-size-6xl: 4rem;      /* 64px - Hero section headings */
  --font-size-7xl: 5rem;      /* 80px - Brand typography */
  --font-size-8xl: 6rem;      /* 96px - Large brand displays */

  /* 
   * Brand Typography
   * ================
   * Special sizing scale for brand elements like "27WM27" logos.
   * These are larger than standard typography and follow brand guidelines.
   */
  --brand-font-size-xs: 2rem;  /* 32px - Smallest brand text */
  --brand-font-size-sm: 3rem;  /* 48px - Small brand displays */
  --brand-font-size-md: 4rem;  /* 64px - Medium brand displays */
  --brand-font-size-lg: 5rem;  /* 80px - Large brand displays */
  --brand-font-size-xl: 6rem;  /* 96px - Extra large brand displays */
  --brand-font-weight: 900;    /* Ultra-bold weight for brand text */
  --brand-letter-spacing: -0.02em; /* Tight letter spacing for brand */
  --brand-line-height: 0.9;    /* Compact line height for brand stacking */

  /* 
   * Display Typography
   * ==================
   * Settings for large display headings used in hero sections and major CTAs.
   */
  --display-font-weight: 700;     /* Bold weight for display headings */
  --display-letter-spacing: -0.01em; /* Slightly tight letter spacing */

  /* 
   * Font Families
   * =============
   * Consistent font stacks used throughout the design system.
   * All use Inter as the primary font with system fallbacks.
   */
  --font-brand: 'Inter', system-ui, sans-serif;   /* Brand elements (27WM27, etc.) */
  --font-display: 'Inter', system-ui, sans-serif; /* Display headings */
  --font-body: 'Inter', system-ui, sans-serif;    /* Body text and paragraphs */

  /* 
   * Body Typography
   * ===============
   * Default settings for body text and paragraph content.
   */
  --body-font-weight: 400;      /* Normal weight for body text */
  --body-line-height: 1.6;      /* Optimal line height for readability */
  --body-letter-spacing: 0;     /* Normal letter spacing for body text */

  /* 
   * Accessibility Colors
   * ====================
   * Enhanced color palette for better accessibility compliance.
   */
  --focus-color: var(--dhb-yellow);        /* Primary focus indicator color */
  --focus-color-high-contrast: #ffff00;    /* High contrast focus color */
  --error-color: #dc2626;                  /* Error state color */
  --success-color: #10b981;                /* Success state color */
  --warning-color: #f59e0b;                /* Warning state color */
  --info-color: #3b82f6;                   /* Info state color */

  /* 
   * Focus Ring Properties
   * =====================
   * Consistent focus indicator styling across all components.
   */
  --focus-ring-width: 2px;                 /* Standard focus ring width */
  --focus-ring-offset: 2px;                /* Focus ring offset from element */
  --focus-ring-width-enhanced: 3px;        /* Enhanced focus ring for high contrast */
  --focus-ring-offset-enhanced: 3px;       /* Enhanced focus ring offset */
}

/* 
 * Global Accessibility Styles
 * ============================
 * Base accessibility enhancements applied throughout the design system.
 */

/* Skip Link Foundation */
.skip-link {
  position: absolute;
  left: -9999px;
  z-index: 999999;
  padding: 0.75rem 1rem;
  background: var(--dhb-navy);
  color: var(--dhb-white);
  text-decoration: none;
  font-weight: 600;
  border-radius: 0.25rem;
  border: 2px solid var(--dhb-yellow);
}

.skip-link:focus {
  left: 1rem;
  top: 1rem;
  outline: 2px solid var(--focus-color);
  outline-offset: 2px;
}

/* Screen Reader Only Content (Global) */
.sr-only,
.screen-reader-only,
.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Focus Visible Enhancement */
*:focus {
  outline: var(--focus-ring-width) solid var(--focus-color);
  outline-offset: var(--focus-ring-offset);
}

*:focus:not(:focus-visible) {
  outline: none;
}

*:focus-visible {
  outline: var(--focus-ring-width) solid var(--focus-color);
  outline-offset: var(--focus-ring-offset);
}

/* High Contrast Mode Enhancements */
@media (prefers-contrast: high) {
  :root {
    --dhb-navy: #000000;
    --dhb-white: #ffffff;
    --dhb-yellow: #ffff00;
    --dhb-red: #ff0000;
  }

  *:focus,
  *:focus-visible {
    outline: var(--focus-ring-width-enhanced) solid var(--focus-color-high-contrast);
    outline-offset: var(--focus-ring-offset-enhanced);
    box-shadow: 0 0 0 calc(var(--focus-ring-width-enhanced) + var(--focus-ring-offset-enhanced)) rgba(255, 255, 0, 0.25);
  }

  .skip-link {
    background: #000000;
    color: #ffffff;
    border-color: #ffff00;
  }
}

/* Reduced Motion Global Settings */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  /* Preserve focus transitions for accessibility */
  *:focus,
  *:focus-visible {
    transition: outline-color 0.2s ease, outline-offset 0.2s ease;
  }
}

/* Forced Colors Mode (Windows High Contrast) */
@media (forced-colors: active) {
  :root {
    --dhb-navy: Canvas;
    --dhb-white: CanvasText;
    --dhb-yellow: Highlight;
    --dhb-red: LinkText;
    --focus-color: Highlight;
  }

  *:focus,
  *:focus-visible {
    outline: 2px solid Highlight;
    outline-offset: 2px;
  }

  .skip-link {
    background: ButtonFace;
    color: ButtonText;
    border-color: Highlight;
  }
}

/* Touch Target Enhancement */
@media (pointer: coarse) {
  /* Ensure interactive elements meet 44px minimum */
  [tabindex="0"],
  [role="button"],
  [role="link"],
  button,
  a {
    min-height: 44px;
    min-width: 44px;
  }
}

/* Print Accessibility */
@media print {
  /* Ensure focus rings don't print */
  *:focus,
  *:focus-visible {
    outline: none;
  }

  /* Hide decorative elements */
  [aria-hidden="true"] {
    display: none;
  }

  /* Ensure text is readable */
  * {
    color: #000000 !important;
    background: #ffffff !important;
  }
}

/* Color Blind Support */
.color-blind-friendly {
  /* Add patterns or shapes alongside color coding */
  --pattern-support: true;
}

/* Error State Enhancement */
[aria-invalid="true"],
.error {
  outline: 2px solid var(--error-color);
  outline-offset: 1px;
}

[aria-invalid="true"]:focus,
.error:focus {
  outline: 2px solid var(--error-color);
  outline-offset: 2px;
  box-shadow: 0 0 0 4px rgba(220, 38, 38, 0.2);
}

/* Live Region Enhancements */
[aria-live] {
  position: relative;
}

[aria-live="assertive"] {
  font-weight: 600;
}

[aria-live="polite"] {
  font-style: italic;
}

/* Landmark Role Enhancement */
[role="main"],
[role="navigation"],
[role="banner"],
[role="contentinfo"],
[role="complementary"],
[role="region"] {
  position: relative;
}

/* Focus Trap Enhancement */
.focus-trap {
  position: relative;
}

.focus-trap::before,
.focus-trap::after {
  content: '';
  position: absolute;
  width: 1px;
  height: 1px;
  opacity: 0;
  pointer-events: none;
}

/* Keyboard Navigation Helpers */
.keyboard-only {
  opacity: 0;
  pointer-events: none;
}

.keyboard-only:focus {
  opacity: 1;
  pointer-events: auto;
}

/* Motion Safe Utilities */
.motion-safe {
  animation: none;
  transition: none;
}

@media (prefers-reduced-motion: no-preference) {
  .motion-safe {
    animation: inherit;
    transition: inherit;
  }
}

/* Text Rendering Optimization */
@media (min-resolution: 120dpi) {
  * {
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}
